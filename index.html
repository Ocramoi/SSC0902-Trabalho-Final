<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Simulador Pipeline</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="./style.css" rel="stylesheet"/>
        <!-- Place favicon.ico in tde root directory -->
        <link href="./assets/ducky.png" rel="icon"/>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">
            You are using an <strong>outdated</strong> browser. Please
            <a href="http://browsehappy.com/">upgrade your browser</a> to improve
            your experience.
            </p>
        <![endif]-->
        <main>
            <div id="addInstrucao"
                 style="grid-area: add;">
                <!-- <span id="tituloAdd">Nova instrução</span>
                     <br/> -->
                <div class="entradaAdd" style="grid-area: combo">
                    <select id="opInstrucao" name="opInstrucao">
                        <option value="add">add</option>
                        <option value="addi">addi</option>
                        <option value="sub">sub</option>
                        <option value="subi">subi</option>
                        <option value="and">and</option>
                        <option value="or">or</option>
                        <option value="xor">xor</option>
                        <option value="nor">nor</option>
                        <option value="mult">mult</option>
                        <option value="multi">multi</option>
                        <option value="div">div</option>
                        <option value="divi">divi</option>
                        <option value="nop">nop</option>
                    </select>
                </div>
                <div class="entradaAdd" style="grid-area: dest">
                    <span>R<sub>dest</sub></span><br/>
                    <input id="dest"
                           name="dest"
                           type="number"
                           step="1"
                           min="1"
                           max="31"
                           value="1"/>
                </div>
                <div class="entradaAdd" style="grid-area: r1">
                    <span>R<sub>source 1</sub></span><br/>
                    <input id="source"
                           name="source"
                           type="number"
                           step="1"
                           min="0"
                           max="31"
                           value="0"/>
                </div>
                <div class="entradaAdd"
                    id="entradaTemp" style="grid-area: r2">
                    <span id="tempSpan">R<sub>source 2</sub></span><br/>
                    <input id="temp"
                           name="temp"
                           type="number"
                           step="1"
                           min="0"
                           max="31"
                           value="0"/>
                </div>
                <div class="entradaAdd"
                    style="display: none; grid-area: r2"
                    id="entradaImediato">
                    <span id="immSpan">Valor</span><br/>
                    <input id="imediato"
                        name="imediato"
                        type="number"
                        value="0"/>

                </div>
                <button id="butAdd" style="grid-area: bAdd">Adicionar</button>
                <button id="butExec" style="grid-area: bExec">Executar</button>
            </div>

            <div id="visualizacao"
                 style="grid-area: visu">
                <img class="imgCard gira"
                     style="grid-area: img1"
                     alt="Etapa 1"
                     src="assets/ingredients.png"/>
                <img class="imgCard gira"
                     style="grid-area: img2"
                     alt="Etapa 2"
                    src="assets/bowl.png"/>
                <img class="imgCard gira"
                     style="grid-area: img3"
                     alt="Etapa 3"
                     src="assets/mixing.png"/>
                <img class="imgCard gira"
                     style="grid-area: img4"
                     alt="Etapa 4"
                     src="assets/oven.png"/>
                <img class="imgCard gira"
                     style="grid-area: img5"
                     alt="Etapa 5"
                     src="assets/cake.png"/>

                <span class="nomeEtapa"
                    style="grid-area: etapa1">Fetch</span>
                <span class="nomeEtapa"
                    style="grid-area: etapa2">Decode</span>
                <span class="nomeEtapa"
                    style="grid-area: etapa3">Execute</span>
                <span class="nomeEtapa"
                    style="grid-area: etapa4">Memory Access</span>
                <span class="nomeEtapa"
                    style="grid-area: etapa5">Write Back</span>

                <span style="grid-area: instr1_1"
                    id="instr1_1"
                    instr="1">...</span>
                <span style="grid-area: instr1_2"
                    id="instr1_2"
                    instr="1">...</span>
                <span style="grid-area: instr1_3"
                    id="instr1_3"
                    instr="1">...</span>
                <span style="grid-area: instr1_4"
                    id="instr1_4"
                    instr="1">...</span>
                <span style="grid-area: instr1_5"
                    id="instr1_5"
                    instr="1">...</span>

                <div id="regs1"
                    class="regs"
                    style="grid-area: regs1">
                    ...
                </div>
                <div id="regs2"
                    class="regs"
                    style="grid-area: regs2">
                    ...
                </div>
                <div id="regs3"
                    class="regs"
                    style="grid-area: regs3">
                    ...
                </div>
                <div id="regs4"
                    class="regs"
                    style="grid-area: regs4">
                    ...
                </div>
                <div id="regs5"
                    style="grid-area: regs5">
                </div>
            </div>

            <div id="listaInstrucoes"
                 style="grid-area: lista"></div>
        </main>

        <button id="pulaReferencias">↓</button>
        <button id="voltaReferencias">↑</button>

        <div id="referencia">
            <table id="registradores">
                <tr>
                    <th colspan="3">Registradores da arquitetura</th>
                </tr>
                <tr>
                    <td>R00</td>
                    <td>$zero</td>
                    <td>zero</td>
                </tr>
                <tr>
                    <td>R01</td>
                    <td>$at</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R02</td>
                    <td>$v0</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R03</td>
                    <td>$v1</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R04</td>
                    <td>$a0</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R05</td>
                    <td>$a1</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R06</td>
                    <td>$a2</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R07</td>
                    <td>$a3</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R08</td>
                    <td>$t0</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R09</td>
                    <td>$t1</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R10</td>
                    <td>$t2</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R11</td>
                    <td>$t3</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R12</td>
                    <td>$t4</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R13</td>
                    <td>$t5</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R14</td>
                    <td>$t6</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R15</td>
                    <td>$t7</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R16</td>
                    <td>$s0</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R17</td>
                    <td>$s1</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R18</td>
                    <td>$s2</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R19</td>
                    <td>$s3</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R20</td>
                    <td>$s4</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R21</td>
                    <td>$s5</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R22</td>
                    <td>$s6</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R23</td>
                    <td>$s7</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R24</td>
                    <td>$t8</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R25</td>
                    <td>$t9</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R26</td>
                    <td>$k0</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R27</td>
                    <td>$k1</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R28</td>
                    <td>$gp</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R29</td>
                    <td>$sp</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R30</td>
                    <td>$fp</td>
                    <td>0x0</td>
                </tr>
                <tr>
                    <td>R31</td>
                    <td>$ra</td>
                    <td>0x0</td>
                </tr>
            </table>

            <div id="textoRefs">
                <br/><br/>

                <h2>Que legal! O que estou vendo?</h2>
                <p>
                    Essa página ilustra o funcionamento de um processador da arquitetura MIPS, no tipo pipeline. Para isso, vamos visualizar essa implementação como etapas da confecção de um bolo.
                </p>

                <h2>Caramba, o que significa tudo isso?</h2>
                <p>
                    MIPS (Microprocessador sem Estágios de Pipeline Interconectados) é uma arquitetura aberta (livremente distribuída) para computadores. Isso significa que, seguindo as especificações do MIPS, é possível criar um computador!
                </p>

                <h2>Interessante. E o que é aquilo de Pipeline?</h2>
                <p>
                    Além do MIPS ser um formato para criar um computador, ele também especifica como o criar na filosofia Pipeline. A ideia é que se fôssemos, por exemplo, apagar um incêndio, ao invés de ir e voltar para encher um balde de água e descarregá-lo no fogo nós teríamos uma fila de pessoas entre os dois que passa o balde adiante até ele chegar no seu destino.
                </p>

                <p>
                    Para a arquitetura, isso significa que vamos quebrar uma única instrução, a unidade de operação de um processador, em diversos passos. Isso nos permite utilizar ao máximo todos os componentes do processador - eles sempre vão estar operando e passando adiante o seu resultado.
                </p>
                <hr style="border: 0px 1px 0px 0px solid black"/>
                <div id="ducky">
                    <div id="textoPergunta">Q: ...</div>
                    <div id="textoDucky">A: ...</div>
                    <br/>
                    <img id="avatarDucky" alt="Ducky" src="./assets/ducky.png"/>
                </div>
            </div>
        </div>

        <script src="./index.js"></script>
    </body>
</html>
